"use strict";console.log("\n %c MetingJS 1.1.1 %c https://github.com/metowolf/MetingJS \n\n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;");var aplayers=[],loadMeting=function(){function e(e,t){var a={container:e,audio:t,mini:!1,autoplay:!1,mutex:!0,lrc:3,preload:"auto",theme:"#2980b9",loop:"all",order:"list",volume:.7,listFolded:!1,listMaxHeight:"340px"};for(var r in a)a.hasOwnProperty(r)&&e.dataset.hasOwnProperty(r)&&(a[r]=e.dataset[r],("true"===a[r]||"false"===a[r])&&(a[r]="true"==a[r]));t.length&&(!0===a.mini&&(a.lrc=0,a.listFolded=!0),aplayers.push(new APlayer(a)))}var t="https://api.i-meto.com/meting/api?server=:server&type=:type&id=:id&r=:r";"undefined"!=typeof meting_api&&(t=meting_api);for(var a=0;a<aplayers.length;a++)try{aplayers[a].destroy()}catch(e){console.log(e)}aplayers=[];for(var r=document.querySelectorAll(".aplayer"),s=function(a){var s=r[a];if(s.dataset.id){var n=s.dataset.api||t;n=(n=(n=(n=(n=n.replace(":server",s.dataset.server)).replace(":type",s.dataset.type)).replace(":id",s.dataset.id)).replace(":auth",s.dataset.auth)).replace(":r",Math.random());var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState&&(200<=d.status&&300>d.status||304===d.status)){var t=JSON.parse(d.responseText);e(s,t)}},d.open("get",n,!0),d.send(null)}else if(s.dataset.url){var o=[{name:s.dataset.name||s.dataset.title,artist:s.dataset.artist||s.dataset.author,url:s.dataset.url,cover:s.dataset.cover||s.dataset.pic,lrc:s.dataset.lrc}];e(s,o)}},n=0;n<r.length;n++)s(n)};document.addEventListener("DOMContentLoaded",loadMeting,!1);